<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 px-2">
  <div *ngFor="let resource of resourceList"
      class="relative flex flex-col justify-between bg-white rounded-lg shadow-primary shadow-lg p-6 w-full"
      [ngClass]="{
        'bg-exam': ['USMLE_STEP_1','USMLE_STEP_2','ERMP','EXAM'].includes(resource.type ? resource.type : ''),
        'bg-reading-materials':resource.type === 'READING_MATERIAL',
        'bg-videos': resource.type === 'VIDEO',
        'bg-lecture-videos': ['LECTURE_VIDEOS','LECTURE'].includes(resource.type ? resource.type : ''),
        'bg-lecture-notes': resource.type === 'LECTURE_NOTES',
      }">
    <!-- Background shape -->
    <svg class="absolute top-0 left-0 w-60 h-60 opacity-10 pointer-events-none" 
      [ngClass]="{
        'text-blue-400': ['USMLE_STEP_1','USMLE_STEP_2','EXAM'].includes(resource.type ? resource.type : ''),
        'text-green-400': resource.type === 'READING_MATERIAL',
        'text-orange-400': resource.type === 'VIDEO',
        'text-purple-400': resource.type === 'LECTURE_VIDEOS',
        'text-pink-400': resource.type === 'LECTURE_NOTES'
      }"
        fill="currentColor" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
      <path d="M40,-66.3C52.7,-57.3,64.6,-46.2,69.7,-33.5C74.8,-20.8,73.2,-6.6,70.2,7.4C67.3,21.4,63,35.3,54.6,47.5C46.3,59.7,33.8,70.2,19.1,75.1C4.4,80.1,-12.4,79.5,-27.7,73.5C-43.1,67.5,-56.9,56.1,-66.4,42.1C-75.9,28.2,-81.1,11.6,-78.4,-3.6C-75.8,-18.9,-65.4,-32.8,-54.2,-44.1C-43,-55.4,-31,-64.2,-17.5,-70.4C-4,-76.6,11,-80.2,24.8,-76.8C38.6,-73.3,51.2,-62.5,40,-66.3Z" transform="translate(100 100)" />
    </svg>  
    <!--end of background-->
    <div class="flex flex-col gap-1">
      <div class="flex justify-between items-center mb-4">
        <span class="text-sm font-medium text-blue-600">{{ resource.type }}</span>
        <span class="text-sm font-medium px-2 py-1 rounded-md bg-blue-100">
          {{ resource.requiredSubLevel }}
        </span>
      </div>
      <h3 class="text-xl font-semibold text-gray-800 mb-2">{{ resource.title }}</h3>
      <div class="h-28 overflow-auto mb-3">
        <p class="text-gray-800">{{ resource.description }}</p>
      </div>
    </div>
    <button
      (click)="navigateToDetails(resource)"
      class="w-full text-white py-2 rounded-lg transition-colors cursor-pointer"
      [ngClass]="{'bg-secondary hover:bg-btnSecHover': isEqualOrHigherTier(resource.requiredSubLevel),
        'bg-primary hover:bg-btnHover': !isEqualOrHigherTier(resource.requiredSubLevel)
      }"
    >
      <span *ngIf="resource.requiredSubLevel === 'NONE' || isEqualOrHigherTier(resource.requiredSubLevel)">
        View
      </span>
      <span *ngIf="resource.requiredSubLevel !== 'NONE' && !isEqualOrHigherTier(resource.requiredSubLevel)">
        Preview
      </span>
    </button>
  </div>
</div>
